# ЁЯЦ╝я╕П Image Management Guide

## р╕ар╕▓р╕Юр╕гр╕зр╕б

р╕гр╕░р╕Ър╕Ъ Movie Info App р╕бр╕╡р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Бр╕Ър╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕Юр╕╖р╣Ир╕н:
- **р╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Ф Bandwidth**: р╣Гр╕Кр╣Йр╕Вр╕Щр╕▓р╕Фр╕гр╕╣р╕Ыр╣Ар╕ер╣Зр╕Б (w185 р╕кр╕│р╕лр╕гр╕▒р╕Ъ poster, w45 р╕кр╕│р╕лр╕гр╕▒р╕Ъ logo)
- **р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╕Цр╕╣р╕Бр╕Ър╕ер╣Зр╕нр╕Б**: р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕бр╕▓р╣Ар╕Бр╣Зр╕Ър╣Др╕зр╣Йр╕Чр╕╡р╣Ир╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М
- **р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕з**: р╣Гр╕Кр╣Йр╕гр╕╣р╕Ыр╕Чр╕╡р╣Ир╣Ар╕Бр╣Зр╕Ър╣Др╕зр╣Йр╣Гр╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╣Бр╕Чр╕Щр╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Бр╕Ир╕▓р╕Б TMDB р╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕З

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М

```
static/
тФЬтФАтФА images/
тФВ   тФЬтФАтФА posters/          # р╣Ар╕Бр╣Зр╕Ъ poster р╕лр╕Щр╕▒р╕З
тФВ   тФЬтФАтФА providers/        # р╣Ар╕Бр╣Зр╕Ъ logo р╕Вр╕нр╕З streaming providers
тФВ   тФЬтФАтФА no-poster.jpg     # р╕гр╕╣р╕Ы fallback р╕кр╕│р╕лр╕гр╕▒р╕Ъ poster
тФВ   тФФтФАтФА no-logo.png       # р╕гр╕╣р╕Ы fallback р╕кр╕│р╕лр╕гр╕▒р╕Ъ logo
```

## ЁЯФз р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

### 1. **Poster Management**
- **р╕Вр╕Щр╕▓р╕Фр╕Чр╕╡р╣Ир╣Гр╕Кр╣Й**: w185 (185x278 pixels)
- **р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Др╕Яр╕ер╣М**: JPG
- **р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕н**: `{tmdb_id}_{hash}.jpg`
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: `575265_a1b2c3d4.jpg`

### 2. **Provider Logo Management**
- **р╕Вр╕Щр╕▓р╕Фр╕Чр╕╡р╣Ир╣Гр╕Кр╣Й**: w45 (45x45 pixels)
- **р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Др╕Яр╕ер╣М**: PNG
- **р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕н**: `provider_{provider_id}_{hash}.png`
- **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**: `provider_8_a1b2c3d4.png`

## ЁЯУК р╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Бр╕Щр╕░р╕Щр╕│

### **Poster Images**
- **р╕Вр╕Щр╕▓р╕Ф**: 185x278 pixels
- **р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ**: JPEG
- **р╕Др╕╕р╕Ур╕ар╕▓р╕Ю**: 85-90%
- **р╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М**: ~15-30 KB

### **Provider Logos**
- **р╕Вр╕Щр╕▓р╕Ф**: 45x45 pixels
- **р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ**: PNG (with transparency)
- **р╕Др╕╕р╕Ур╕ар╕▓р╕Ю**: 100%
- **р╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М**: ~2-5 KB

## ЁЯЪА р╕Бр╕▓р╕г Deploy

### **Local Development**
```bash
# р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕Ир╕░р╕Цр╕╣р╕Бр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕бр╕лр╕Щр╕▒р╕Зр╣Гр╕лр╕бр╣И
python app.py
```

### **Production (Render)**
```bash
# р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕Ир╕░р╕Цр╕╣р╕Бр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й
# р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╣Др╕Яр╕ер╣Мр╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╣Др╕бр╣Ир╕Бр╣Ир╕нр╕Щр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф
```

## ЁЯФД р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х

### **р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х Poster**
```python
# р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Бр╕ер╕░р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣Ир╕лр╕▓р╕Бр╣Др╕бр╣Ир╕бр╕╡р╣Др╕Яр╕ер╣М
poster_url = download_and_save_poster(poster_path, tmdb_id)
```

### **р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х Provider Logo**
```python
# р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Бр╕ер╕░р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣Ир╕лр╕▓р╕Бр╣Др╕бр╣Ир╕бр╕╡р╣Др╕Яр╕ер╣М
logo_url = download_and_save_provider_logo(logo_path, provider_id)
```

## ЁЯЫбя╕П р╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ

### **Rate Limiting**
- р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Др╕бр╣Ир╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕Лр╣Йр╕│р╕лр╕▓р╕Бр╕бр╕╡р╣Др╕Яр╕ер╣Мр╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з
- р╣Гр╕Кр╣Й hash р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

### **Error Handling**
- р╕лр╕▓р╕Бр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И р╕Ир╕░р╣Гр╕Кр╣Й URL р╕Хр╣Йр╕Щр╕Йр╕Ър╕▒р╕Ър╕Ир╕▓р╕Б TMDB
- р╕бр╕╡ fallback images р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕гр╕Ур╕╡р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕гр╕╣р╕Ы

### **Storage Management**
- р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕Цр╕╣р╕Б ignore р╣Гр╕Щ Git р╣Ар╕Юр╕╖р╣Ир╕нр╣Др╕бр╣Ир╣Гр╕лр╣Й push р╣Др╕Яр╕ер╣Мр╣Гр╕лр╕Нр╣И
- р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕лр╕▓р╕Бр╣Др╕бр╣Ир╕бр╕╡

## ЁЯУИ р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю

### **Bandwidth Savings**
- **Poster**: р╕Ир╕▓р╕Б ~200KB (w500) р╣Ар╕Ыр╣Зр╕Щ ~25KB (w185) = р╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Ф 87.5%
- **Logo**: р╕Ир╕▓р╕Б ~15KB (w92) р╣Ар╕Ыр╣Зр╕Щ ~3KB (w45) = р╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Ф 80%

### **Loading Speed**
- **Local**: ~10-50ms
- **TMDB**: ~200-500ms
- **Improvement**: р╣Ар╕гр╣Зр╕зр╕Вр╕╢р╣Йр╕Щ 4-10 р╣Ар╕Чр╣Ир╕▓

## ЁЯФз р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓

### **Environment Variables**
```bash
# р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Юр╕┤р╣Ар╕ир╕й - р╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
```

### **Customization**
```python
# р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Вр╕Щр╕▓р╕Фр╕гр╕╣р╕Ыр╣Гр╕Щ utils.py
def get_poster_url(poster_path: str, size: str = 'w185') -> str:
    # р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ w185 р╣Ар╕Ыр╣Зр╕Щр╕Вр╕Щр╕▓р╕Фр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г

def download_and_save_poster(poster_path: str, tmdb_id: int, size: str = 'w185') -> str:
    # р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ w185 р╣Ар╕Ыр╣Зр╕Щр╕Вр╕Щр╕▓р╕Фр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
```

## ЁЯЪи р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З

### **Storage Space**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕зр╣Ир╕▓р╕Зр╣Гр╕Щр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М
- р╕ер╕Ър╕гр╕╣р╕Ыр╣Ар╕Бр╣Ир╕▓р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Гр╕Кр╣Йр╣Ар╕Ыр╣Зр╕Щр╕гр╕░р╕вр╕░

### **TMDB Rate Limits**
- TMDB р╕бр╕╡ rate limit р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ы
- р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Гр╕Кр╣Йр╕гр╕╣р╕Ыр╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╕Бр╣Ир╕нр╕Щр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣И

### **File Permissions**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щр╣Др╕Яр╕ер╣Мр╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М static/images/
- р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕лр╕▓р╕Бр╕бр╕╡р╕кр╕┤р╕Чр╕Шр╕┤р╣М

## ЁЯУЮ р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓

### **р╕гр╕╣р╕Ыр╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щр╣Др╕Яр╕ер╣М
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕нр╕┤р╕Щр╣Ар╕Чр╕нр╕гр╣Мр╣Ар╕Щр╣Зр╕Х
3. р╕Фр╕╣ error logs

### **р╕гр╕╣р╕Ыр╣Гр╕лр╕Нр╣Ир╣Ар╕Бр╕┤р╕Щр╣Др╕Ы**
1. р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Вр╕Щр╕▓р╕Фр╣Гр╕Щ utils.py
2. р╕ер╕Ър╕гр╕╣р╕Ыр╣Ар╕Бр╣Ир╕▓р╣Бр╕ер╕░р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣И

### **р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╕Кр╣Йр╕▓**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н TMDB
2. р╣Гр╕Кр╣Йр╕гр╕╣р╕Ыр╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╣Бр╕Чр╕Щр╕Бр╕▓р╕гр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣И
